# Analytics queries that work with the current schema
# Note: Some advanced analytics queries may not be available yet in the backend

query GetDashboardStats {
  getDashboardStats {
    totalPlayers
    totalTeams
    totalMatches
    totalEvents
    activePlayers
    activeTeams
    completedMatches
    upcomingEvents
    averagePlayerRP
    averageTeamSize
    topPerformingPlayer {
      id
      gamertag
      currentRp
      peakRp
      tier
      position
      teamName
    }
    mostActiveTeam {
      id
      name
      description
      logoUrl
      region
    }
    recentMatches {
      id
      teamAName
      teamBName
      scoreA
      scoreB
      winnerName
      playedAt
      status
    }
    recentPlayers {
      id
      gamertag
      currentRp
      tier
      teamName
      createdAt
    }
  }
}

query GetLeaderboard($limit: Int = 50, $offset: Int = 0, $tier: PlayerTier, $region: String, $sortBy: LeaderboardSortBy = CURRENT_RP) {
  getLeaderboard(limit: $limit, offset: $offset, tier: $tier, region: $region, sortBy: $sortBy) {
    rank
    player {
      id
      gamertag
      currentRp
      peakRp
      tier
      position
      region
      teamName
      isVerified
      createdAt
      user {
        id
        username
        fullName
      }
    }
    wins
    losses
    winRate
    totalMatches
    averagePoints
    averageAssists
    averageRebounds
  }
}

query GetTopPlayers($limit: Int = 10, $tier: PlayerTier) {
  getTopPlayers(limit: $limit, tier: $tier) {
    rank
    player {
      id
      gamertag
      currentRp
      peakRp
      tier
      position
      teamName
      isVerified
    }
    wins
    losses
    winRate
  }
}
